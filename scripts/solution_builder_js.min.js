let hasContent=!1,selection=null;function adjustContentMargin(){const content=document.getElementById("form-content"),contentHeight=content.offsetHeight,footerHeight=document.getElementById("footerBorder").offsetHeight,headerHeight=document.getElementById("header").offsetHeight,viewportHeight=window.innerHeight,remainingSpace=viewportHeight-contentHeight-headerHeight-footerHeight;window.innerHeight>=50&&(console.log("trueee"),content.style.marginBottom=remainingSpace>0?`${remainingSpace/2}px`:"0",content.style.marginTop=remainingSpace>0?`${remainingSpace/2}px`:"0")}function initOptions(solutionStep,optionList){hasContent=!1,optionList.forEach(optionPanel=>{optionPanel.addEventListener("click",()=>{switch(solutionStep){case 0:optionList.forEach(optionPanel=>{optionPanel.classList.remove("optionPanel-active")}),optionPanel.classList.add("optionPanel-active"),selection=optionPanel.querySelector("p").textContent,console.log(selection),hasContent=!0;break;case 1:case 2:panelText=optionPanel.querySelector("p").textContent,console.log(optionPanel),optionPanel.classList.toggle("optionPanel-active"),optionPanel.classList.contains("optionPanel-active")?hasContent=!0:(hasContent=!1,optionList.forEach(element=>{element.classList.contains("optionPanel-active")&&(hasContent=!0)})),indexID=selection.indexOf(panelText),-1!=indexID?selection.splice(indexID,1):selection.push(optionPanel.querySelector("p").textContent)}})})}async function sendEmail(industry,assetType,reason,email,fleetSize,state,name,phoneNumber,companyName){event.preventDefault();const formData=new FormData;formData.append("form-name","Solution Builder Form"),formData.append("Selected Industry",industry),formData.append("Selected Asset Type/s",assetType.join(", ")),formData.append("Selected Reason/s",reason.join(", ")),formData.append("Email Address",email),formData.append("Fleet Size",fleetSize),formData.append("State",state),formData.append("Name",name),formData.append("Phone Number",phoneNumber),formData.append("Company Name",companyName);const data=new URLSearchParams(formData).toString();fetch("/",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:data}).then(response=>{if(!response.ok)throw new Error("Form submission failed");console.log("yes")}).catch(error=>{document.getElementById("form-response").innerText="Error submitting form: "+error.message,document.getElementById("form-response").style.color="red"})}document.onreadystatechange=()=>{if("complete"==document.readyState){window.addEventListener("resize",adjustContentMargin),window.addEventListener("load",adjustContentMargin),adjustContentMargin();const submissionElements=document.querySelectorAll(".submission");let solutionStep=0,selections=[];const layoutList=document.getElementsByClassName("optionLayout");let optionList=layoutList[solutionStep].querySelectorAll(".optionPanel");imgList=document.querySelectorAll("[data-inf-id]"),console.log(imgList),initOptions(solutionStep,optionList),document.querySelectorAll(".continueBtn").forEach(btn=>{btn.addEventListener("click",()=>{if(imgList.forEach(img=>{img.getAttribute("data-inf-id")!=solutionStep+1?(console.log("step:"+solutionStep+"  "+img),img.style.display="none",console.log(img.getAttribute("data-inf-id"))):img.style.display="block"}),3!=solutionStep&&4!=solutionStep||(submissionList=layoutList[solutionStep].querySelectorAll(".submission"),isNull=!1,selection=[],submissionList.forEach(element=>{element.classList.contains("optional")?isNull=!1:""==element.value&&(isNull=!0),selection.push(element.value),console.log(element.value)}),console.log(selection),1!=isNull?hasContent=!0:(selection=null,console.log("is null"),hasContent=!1)),1==hasContent){solutionStep++;for(let i=0;i<layoutList.length;i++)i==solutionStep?(initOptions(solutionStep,optionList),layoutList[solutionStep].style.display="block"):layoutList[i].style.display="none";optionList=layoutList[solutionStep].querySelectorAll(".optionPanel"),initOptions(solutionStep,optionList)}else noOption=document.querySelectorAll(".noOption"),console.log(noOption),noOption[solutionStep].style.display="block";null!=selection&&0!==selection.length&&selections.push(selection),console.log(selections),5==solutionStep&&sendEmail(selections[0],selections[1],selections[2],selections[4][1],selections[3][1],selections[3][2],selections[4][0],selections[4][2],selections[3][0]),selection=[],adjustContentMargin()})})}};